(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10952,e=>{"use strict";var r=e.i(90258),t=e.i(80084);let a=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M228,128a12,12,0,0,1-12,12H69l51.52,51.51a12,12,0,0,1-17,17l-72-72a12,12,0,0,1,0-17l72-72a12,12,0,0,1,17,17L69,116H216A12,12,0,0,1,228,128Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M112,56V200L40,128Z",opacity:"0.2"}),r.createElement("path",{d:"M216,120H120V56a8,8,0,0,0-13.66-5.66l-72,72a8,8,0,0,0,0,11.32l72,72A8,8,0,0,0,120,200V136h96a8,8,0,0,0,0-16ZM104,180.69,51.31,128,104,75.31Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M222,128a6,6,0,0,1-6,6H54.49l61.75,61.76a6,6,0,1,1-8.48,8.48l-72-72a6,6,0,0,1,0-8.48l72-72a6,6,0,0,1,8.48,8.48L54.49,122H216A6,6,0,0,1,222,128Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M220,128a4,4,0,0,1-4,4H49.66l65.17,65.17a4,4,0,0,1-5.66,5.66l-72-72a4,4,0,0,1,0-5.66l72-72a4,4,0,0,1,5.66,5.66L49.66,124H216A4,4,0,0,1,220,128Z"}))]]),o=r.forwardRef((e,o)=>r.createElement(t.default,{ref:o,...e,weights:a}));o.displayName="ArrowLeftIcon",e.s(["ArrowLeft",()=>o],10952)},67670,e=>{"use strict";var r=e.i(12578),t=e.i(90258),a=e.i(58695),o=e.i(42769),l=e.i(10952),s=e.i(93244);function c(){let e=(0,a.useParams)(),c=(0,a.useRouter)(),i=Number(e.id),[n,d]=(0,t.useState)({name:"",city:"",category:"",discount_label:"",description:"",image_url:""}),[m,u]=(0,t.useState)(!0),[x,p]=(0,t.useState)(!1),[g,h]=(0,t.useState)(""),[b,v]=(0,t.useState)("");(0,t.useEffect)(()=>{let e=async()=>{u(!0);try{let e=(await s.adminApi.getRestaurants({page:1,limit:1e3})).data.find(e=>e.id===i);e?d({name:e.name||"",city:e.city||"",category:e.category||"",discount_label:e.discount_label||"",description:e.description||"",image_url:e.image_url||""}):h("Restaurante nao encontrado.")}catch(e){console.error("Erro ao buscar restaurante:",e),h(e?.message||"Erro ao carregar restaurante.")}finally{u(!1)}};i&&e()},[i]);let f=e=>{let{name:r,value:t}=e.target;d(e=>({...e,[r]:t}))},y=async e=>{if(e.preventDefault(),h(""),v(""),n.name.trim()?n.city.trim()?!!n.discount_label.trim()||(h("O desconto e obrigatorio."),!1):(h("A cidade e obrigatoria."),!1):(h("O nome e obrigatorio."),!1)){p(!0);try{let e={name:n.name.trim(),city:n.city.trim(),discount_label:n.discount_label.trim()};n.category.trim()&&(e.category=n.category.trim()),n.description.trim()&&(e.description=n.description.trim()),n.image_url.trim()&&(e.image_url=n.image_url.trim()),await s.adminApi.updateRestaurant(i,e),v("Restaurante atualizado com sucesso!"),setTimeout(()=>{c.push("/dashboard/restaurants")},1e3)}catch(e){console.error("Erro ao atualizar restaurante:",e),h(e?.message||"Erro ao atualizar restaurante.")}finally{p(!1)}}};return m?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"h-8 w-48 bg-slate-100 rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-96 bg-white rounded-xl shadow-soft animate-pulse max-w-2xl"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(o.default,{href:"/dashboard/restaurants",className:"inline-flex items-center gap-2 text-sm font-medium text-[var(--color-text-medium)] hover:text-[var(--color-text-dark)] transition-colors",children:[(0,r.jsx)(l.ArrowLeft,{size:18}),"Voltar para Restaurantes"]}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-[var(--color-text-dark)]",children:"Editar Restaurante"}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-soft p-6 max-w-2xl",children:(0,r.jsxs)("form",{onSubmit:y,className:"space-y-5",children:[g&&(0,r.jsx)("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200",children:(0,r.jsx)("p",{className:"text-sm text-red-700",children:g})}),b&&(0,r.jsx)("div",{className:"p-3 rounded-lg bg-green-50 border border-green-200",children:(0,r.jsx)("p",{className:"text-sm text-green-700",children:b})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-[var(--color-text-dark)] mb-1.5",children:["Nome ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",value:n.name,onChange:f,placeholder:"Nome do restaurante",className:"w-full px-4 py-2.5 rounded-lg border border-[var(--color-border)] text-sm text-[var(--color-text-dark)] placeholder:text-[var(--color-text-light)] focus:outline-none focus:ring-2 focus:ring-[var(--color-roc-primary)]/20 focus:border-[var(--color-roc-primary)] transition-colors"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"city",className:"block text-sm font-medium text-[var(--color-text-dark)] mb-1.5",children:["Cidade ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"city",name:"city",type:"text",value:n.city,onChange:f,placeholder:"Cidade",className:"w-full px-4 py-2.5 rounded-lg border border-[var(--color-border)] text-sm text-[var(--color-text-dark)] placeholder:text-[var(--color-text-light)] focus:outline-none focus:ring-2 focus:ring-[var(--color-roc-primary)]/20 focus:border-[var(--color-roc-primary)] transition-colors"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-[var(--color-text-dark)] mb-1.5",children:"Categoria"}),(0,r.jsx)("input",{id:"category",name:"category",type:"text",value:n.category,onChange:f,placeholder:"Ex: Italiana, Japonesa, Bar...",className:"w-full px-4 py-2.5 rounded-lg border border-[var(--color-border)] text-sm text-[var(--color-text-dark)] placeholder:text-[var(--color-text-light)] focus:outline-none focus:ring-2 focus:ring-[var(--color-roc-primary)]/20 focus:border-[var(--color-roc-primary)] transition-colors"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"discount_label",className:"block text-sm font-medium text-[var(--color-text-dark)] mb-1.5",children:["Desconto ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"discount_label",name:"discount_label",type:"text",value:n.discount_label,onChange:f,placeholder:"Ex: 20% de desconto, 2 por 1...",className:"w-full px-4 py-2.5 rounded-lg border border-[var(--color-border)] text-sm text-[var(--color-text-dark)] placeholder:text-[var(--color-text-light)] focus:outline-none focus:ring-2 focus:ring-[var(--color-roc-primary)]/20 focus:border-[var(--color-roc-primary)] transition-colors"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-[var(--color-text-dark)] mb-1.5",children:"Descricao"}),(0,r.jsx)("textarea",{id:"description",name:"description",rows:4,value:n.description,onChange:f,placeholder:"Descricao do restaurante...",className:"w-full px-4 py-2.5 rounded-lg border border-[var(--color-border)] text-sm text-[var(--color-text-dark)] placeholder:text-[var(--color-text-light)] focus:outline-none focus:ring-2 focus:ring-[var(--color-roc-primary)]/20 focus:border-[var(--color-roc-primary)] transition-colors resize-vertical"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"image_url",className:"block text-sm font-medium text-[var(--color-text-dark)] mb-1.5",children:"URL da Imagem"}),(0,r.jsx)("input",{id:"image_url",name:"image_url",type:"text",value:n.image_url,onChange:f,placeholder:"https://exemplo.com/imagem.jpg",className:"w-full px-4 py-2.5 rounded-lg border border-[var(--color-border)] text-sm text-[var(--color-text-dark)] placeholder:text-[var(--color-text-light)] focus:outline-none focus:ring-2 focus:ring-[var(--color-roc-primary)]/20 focus:border-[var(--color-roc-primary)] transition-colors"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 pt-2",children:[(0,r.jsx)("button",{type:"submit",disabled:x,className:"px-6 py-2.5 rounded-lg text-sm font-medium text-white bg-[var(--color-roc-primary)] hover:bg-[var(--color-roc-primary-dark)] transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Salvando...":"Salvar Alteracoes"}),(0,r.jsx)(o.default,{href:"/dashboard/restaurants",className:"px-6 py-2.5 rounded-lg text-sm font-medium text-[var(--color-text-medium)] bg-gray-100 hover:bg-gray-200 transition-colors",children:"Cancelar"})]})]})})]})}e.s(["default",()=>c])}]);