module.exports=[99612,a=>{"use strict";var b=a.i(49030),c=a.i(89957),d=a.i(50920);let e=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z",opacity:"0.2"}),c.createElement("path",{d:"M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"}))]]),f=c.forwardRef((a,b)=>c.createElement(d.default,{ref:b,...a,weights:e}));f.displayName="MagnifyingGlassIcon";let g=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M160,48V208L80,128Z",opacity:"0.2"}),c.createElement("path",{d:"M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"}))]]),h=c.forwardRef((a,b)=>c.createElement(d.default,{ref:b,...a,weights:g}));h.displayName="CaretLeftIcon";let i=new Map([["bold",c.createElement(c.Fragment,null,c.createElement("path",{d:"M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"}))],["duotone",c.createElement(c.Fragment,null,c.createElement("path",{d:"M176,128,96,208V48Z",opacity:"0.2"}),c.createElement("path",{d:"M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"}))],["fill",c.createElement(c.Fragment,null,c.createElement("path",{d:"M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"}))],["light",c.createElement(c.Fragment,null,c.createElement("path",{d:"M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"}))],["regular",c.createElement(c.Fragment,null,c.createElement("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"}))],["thin",c.createElement(c.Fragment,null,c.createElement("path",{d:"M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"}))]]),j=c.forwardRef((a,b)=>c.createElement(d.default,{ref:b,...a,weights:i}));function k({columns:a,data:d,pagination:e,isLoading:g=!1,emptyMessage:i="Nenhum registro encontrado.",onSearch:k}){let[l,m]=(0,c.useState)("");return g?(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-soft overflow-hidden",children:[k&&(0,b.jsx)("div",{className:"p-4 border-b border-[var(--color-border)]",children:(0,b.jsx)("div",{className:"h-10 w-72 bg-slate-100 rounded-lg animate-pulse"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{className:"border-b border-[var(--color-border)] bg-slate-50",children:a.map(a=>(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[var(--color-text-medium)] uppercase tracking-wider",children:a.label},a.key))})}),(0,b.jsx)("tbody",{children:Array.from({length:5}).map((c,d)=>(0,b.jsx)("tr",{className:"border-b border-[var(--color-border)]",children:a.map(a=>(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("div",{className:"h-4 bg-slate-100 rounded animate-pulse w-3/4"})},a.key))},d))})]})})]}):(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-soft overflow-hidden",children:[k&&(0,b.jsx)("div",{className:"p-4 border-b border-[var(--color-border)]",children:(0,b.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,b.jsx)(f,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--color-text-light)]"}),(0,b.jsx)("input",{type:"text",placeholder:"Buscar...",value:l,onChange:a=>{let b=a.target.value;m(b),k?.(b)},className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-[var(--color-border)] text-sm text-[var(--color-text-dark)] placeholder:text-[var(--color-text-light)] focus:outline-none focus:ring-2 focus:ring-[var(--color-roc-primary)]/20 focus:border-[var(--color-roc-primary)] transition-colors"})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{className:"border-b border-[var(--color-border)] bg-slate-50",children:a.map(a=>(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[var(--color-text-medium)] uppercase tracking-wider",children:a.label},a.key))})}),(0,b.jsx)("tbody",{children:0===d.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:a.length,className:"px-4 py-12 text-center text-sm text-[var(--color-text-light)]",children:i})}):d.map((c,d)=>(0,b.jsx)("tr",{className:"border-b border-[var(--color-border)] hover:bg-slate-50 transition-colors",children:a.map(a=>(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-[var(--color-text-dark)] whitespace-nowrap",children:a.render?a.render(c[a.key],c):c[a.key]??"-"},a.key))},d))})]})}),e&&e.totalPages>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-[var(--color-border)]",children:[(0,b.jsxs)("button",{onClick:()=>e.onPageChange(e.page-1),disabled:e.page<=1,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium text-[var(--color-text-medium)] hover:bg-slate-100 transition-colors disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:[(0,b.jsx)(h,{size:16}),"Previous"]}),(0,b.jsxs)("span",{className:"text-sm text-[var(--color-text-medium)]",children:["Pagina"," ",(0,b.jsx)("span",{className:"font-semibold text-[var(--color-text-dark)]",children:e.page})," ","de"," ",(0,b.jsx)("span",{className:"font-semibold text-[var(--color-text-dark)]",children:e.totalPages})]}),(0,b.jsxs)("button",{onClick:()=>e.onPageChange(e.page+1),disabled:e.page>=e.totalPages,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium text-[var(--color-text-medium)] hover:bg-slate-100 transition-colors disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:["Next",(0,b.jsx)(j,{size:16})]})]})]})}j.displayName="CaretRightIcon",a.s(["DataTable",()=>k],99612)},34243,a=>{"use strict";var b=a.i(49030),c=a.i(89957),d=a.i(78759),e=a.i(99612);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(1),[k,l]=(0,c.useState)(1),[m,n]=(0,c.useState)("all"),o=(0,c.useCallback)(async()=>{h(!0);try{let a={page:i};"all"!==m&&(a.action=m);let b=await d.adminApi.getAuditLogs(a);f(b.data),l(b.totalPages)}catch(a){console.error("Erro ao buscar audit logs:",a)}finally{h(!1)}},[i,m]);(0,c.useEffect)(()=>{o()},[o]);let p=[{key:"created_at",label:"Data",render:a=>a?new Date(a).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"—"},{key:"admin",label:"Admin",render:(a,b)=>b.admin?.full_name||b.admin?.email||b.admin_name||"—"},{key:"action",label:"Acao",render:a=>(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-slate-100 text-slate-700",children:a})},{key:"target_type",label:"Tipo",render:a=>a||"—"},{key:"target_id",label:"ID Alvo",render:a=>(0,b.jsx)("span",{className:"font-mono text-xs",children:a||"—"})},{key:"details",label:"Detalhes",render:a=>(0,b.jsx)("span",{className:"text-xs text-[var(--color-text-medium)] max-w-xs block truncate",title:a?"string"==typeof a?a:JSON.stringify(a):"",children:(a=>{if(!a)return"—";try{let b="string"==typeof a?a:JSON.stringify(a);return b.length>80?b.substring(0,80)+"...":b}catch{return"—"}})(a)})}];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("h1",{className:"text-2xl font-bold text-[var(--color-text-dark)]",children:"Audit Logs"})}),(0,b.jsx)("div",{className:"flex flex-col sm:flex-row gap-3",children:(0,b.jsxs)("select",{value:m,onChange:a=>{n(a.target.value),j(1)},className:"px-4 py-2.5 rounded-lg border border-[var(--color-border)] text-sm text-[var(--color-text-dark)] bg-white focus:outline-none focus:ring-2 focus:ring-[var(--color-roc-primary)]/20 focus:border-[var(--color-roc-primary)] transition-colors",children:[(0,b.jsx)("option",{value:"all",children:"Todas as acoes"}),(0,b.jsx)("option",{value:"user_suspended",children:"Usuario Suspenso"}),(0,b.jsx)("option",{value:"user_activated",children:"Usuario Ativado"}),(0,b.jsx)("option",{value:"restaurant_created",children:"Restaurante Criado"}),(0,b.jsx)("option",{value:"restaurant_updated",children:"Restaurante Atualizado"}),(0,b.jsx)("option",{value:"restaurant_toggled",children:"Restaurante Alternado"}),(0,b.jsx)("option",{value:"voucher_validated",children:"Voucher Validado"})]})}),(0,b.jsx)(e.DataTable,{columns:p,data:a,isLoading:g,emptyMessage:"Nenhum registro de auditoria encontrado.",pagination:{page:i,totalPages:k,onPageChange:j}})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=admin_app_08bc0ba4._.js.map